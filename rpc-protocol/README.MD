# 协议模块

## 消息体定义
消息一般可以拆分为消息头+消息体两部分,消息头的设计
```$xslt
 * +---------------------------------------------------------------+
 * | 魔数 2byte | 协议版本号 1byte | 序列化算法 1byte | 报文类型 1byte  |
 * +---------------------------------------------------------------+
 * | 状态 1byte |        消息 ID 8byte     |      数据长度 4byte     |
 * +---------------------------------------------------------------+
```
- 疑问1 为什么要设计这么复杂的消息头？
头更多的是包含协议部分以及状态码等有效的信息,对于在拆包以及在装包的过程中的边界值处理。
例如读数据的时候, 消息体的长度本应该是10个字节,但是目前只读到了8个字节。这个时候就不应该继续读数据,而应该选择等待







